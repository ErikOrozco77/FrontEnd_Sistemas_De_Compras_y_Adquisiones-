<title>Registro de Nueva Contraseña</title>

<body>
  <div class="signin">
    <div class="back-img"></div>
    <div class="form-section text-center">
      <div class="col-md-6 offset-md-3">
        <h2>Registro de Contraseña</h2>
        <form (ngSubmit)="resetPassword()" #passwordForm="ngForm" class="text-center">
          <!-- Campo para la nueva contraseña -->
          <div class="form-group">
            <div class="input-group">
              <input type="{{ newPasswordVisible ? 'text' : 'password' }}" id="newPassword" name="newPassword"
                placeholder="Contraseña" class="form-control" [(ngModel)]="newPassword" required maxlength="13"/>
              <div class="input-group-append">
                <button type="button" class="toggle-password btn btn-outline-secondary password-toggle"
                  (click)="togglePasswordVisibility('newPassword')">
                  <i class="fa" [ngClass]="newPasswordVisible ? 'fa-eye-slash' : 'fa-eye'"></i>
                </button>
              </div>
            </div>
            <div *ngIf="newPassword && newPassword.length < 8" class="error-message">La contraseña debe tener al menos 8
              caracteres.</div>
          </div>
          <br>
          <!-- Campo para confirmar la contraseña -->
          <div class="form-group">
            <div class="input-group">
              <input type="{{ confirmPasswordVisible ? 'text' : 'password' }}" id="confirmPassword"
                name="confirmPassword" placeholder="Confirmar contraseña" class="form-control"
                [(ngModel)]="confirmPassword" required maxlength="13"/>
              <div class="input-group-append">
                <button type="button" class="toggle-password btn btn-outline-secondary confirmPassword-toggle"
                  (click)="togglePasswordVisibility('confirmPassword')">
                  <i class="fa" [ngClass]="confirmPasswordVisible ? 'fa-eye-slash' : 'fa-eye'"></i>
                </button>
              </div>
            </div>
            <div *ngIf="confirmPassword && confirmPassword !== newPassword" class="error-message">Las contraseñas no
              coinciden.</div>
          </div>

          <button type="submit" [disabled]="isResetting || newPassword.length < 8 || confirmPassword !== newPassword"
            class="btn-primary">Registrar</button>
        </form>
      </div>
    </div>
  </div>
  <p class="copyright">© 2024, PODER JUDICIAL DEL ESTADO DE COLIMA</p>
</body>